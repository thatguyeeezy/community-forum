(()=>{var e={};e.id=828,e.ids=[828],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},66541:e=>{"use strict";e.exports=require("@prisma/client/runtime/library")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},44710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var n=r(70260),o=r(28203),a=r(25155),i=r.n(a),l=r(67292),s={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);r.d(t,s);let d=["",{children:["community",{children:["new-thread",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,78796)),"C:\\xampp\\nodejs-apps\\community-forum\\app\\community\\new-thread\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,28933)),"C:\\xampp\\nodejs-apps\\community-forum\\app\\community\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,78237)),"C:\\xampp\\nodejs-apps\\community-forum\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],u=["C:\\xampp\\nodejs-apps\\community-forum\\app\\community\\new-thread\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/community/new-thread/page",pathname:"/community/new-thread",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},43294:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"4041daca40cd3939c4af74913a067b247306f56acc":()=>n.p,"405c295700a4dfd6de233805d861f62411f68f5344":()=>n.N});var n=r(94164)},1050:(e,t,r)=>{Promise.resolve().then(r.bind(r,73882))},69506:(e,t,r)=>{Promise.resolve().then(r.bind(r,20896))},20896:(e,t,r)=>{"use strict";r.d(t,{CreateThreadForm:()=>eV});var n=r(45512),o=r(58009),a=r(79334),i=r(87021),l=r(97643),s=r(25409),d=r(53261),u=r(48859),c=r(55740);function p(e,[t,r]){return Math.min(r,Math.max(t,e))}var f=r(31412),m=r(39217),h=r(29952),v=r(6004),y=r(59018),x=r(41675),g=r(19632),b=r(82534),w=r(30096),j=r(34666),R=r(80707),_=r(30830),C=r(12705),S=r(92828),E=r(13024),N=r(49397),P=r(56441),T=r(72421),O=r(67783),M=[" ","Enter","ArrowUp","ArrowDown"],D=[" ","Enter"],k="Select",[I,L,A]=(0,m.N)(k),[F,B]=(0,v.A)(k,[A,j.Bk]),q=(0,j.Bk)(),[H,z]=F(k),[G,U]=F(k),K=e=>{let{__scopeSelect:t,children:r,open:a,defaultOpen:i,onOpenChange:l,value:s,defaultValue:d,onValueChange:u,dir:c,name:p,autoComplete:f,disabled:m,required:h,form:v}=e,x=q(t),[g,b]=o.useState(null),[R,_]=o.useState(null),[C,S]=o.useState(!1),N=(0,y.jH)(c),[P=!1,T]=(0,E.i)({prop:a,defaultProp:i,onChange:l}),[O,M]=(0,E.i)({prop:s,defaultProp:d,onChange:u}),D=o.useRef(null),k=!g||v||!!g.closest("form"),[L,A]=o.useState(new Set),F=Array.from(L).map(e=>e.props.value).join(";");return(0,n.jsx)(j.bL,{...x,children:(0,n.jsxs)(H,{required:h,scope:t,trigger:g,onTriggerChange:b,valueNode:R,onValueNodeChange:_,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:(0,w.B)(),value:O,onValueChange:M,open:P,onOpenChange:T,dir:N,triggerPointerDownPosRef:D,disabled:m,children:[(0,n.jsx)(I.Provider,{scope:t,children:(0,n.jsx)(G,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:o.useCallback(e=>{A(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),k?(0,n.jsxs)(eT,{"aria-hidden":!0,required:h,tabIndex:-1,name:p,autoComplete:f,value:O,onChange:e=>M(e.target.value),disabled:m,form:v,children:[void 0===O?(0,n.jsx)("option",{value:""}):null,Array.from(L)]},F):null]})})};K.displayName=k;var V="SelectTrigger",W=o.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:a=!1,...i}=e,l=q(r),s=z(V,r),d=s.disabled||a,u=(0,h.s)(t,s.onTriggerChange),c=L(r),p=o.useRef("touch"),[m,v,y]=eO(e=>{let t=c().filter(e=>!e.disabled),r=t.find(e=>e.value===s.value),n=eM(t,e,r);void 0!==n&&s.onValueChange(n.value)}),x=e=>{d||(s.onOpenChange(!0),y()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,n.jsx)(j.Mz,{asChild:!0,...l,children:(0,n.jsx)(_.sG.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":eP(s.value)?"":void 0,...i,ref:u,onClick:(0,f.m)(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==p.current&&x(e)}),onPointerDown:(0,f.m)(i.onPointerDown,e=>{p.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:(0,f.m)(i.onKeyDown,e=>{let t=""!==m.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||v(e.key),(!t||" "!==e.key)&&M.includes(e.key)&&(x(),e.preventDefault())})})})});W.displayName=V;var X="SelectValue",$=o.forwardRef((e,t)=>{let{__scopeSelect:r,className:o,style:a,children:i,placeholder:l="",...s}=e,d=z(X,r),{onValueNodeHasChildrenChange:u}=d,c=void 0!==i,p=(0,h.s)(t,d.onValueNodeChange);return(0,N.N)(()=>{u(c)},[u,c]),(0,n.jsx)(_.sG.span,{...s,ref:p,style:{pointerEvents:"none"},children:eP(d.value)?(0,n.jsx)(n.Fragment,{children:l}):i})});$.displayName=X;var Z=o.forwardRef((e,t)=>{let{__scopeSelect:r,children:o,...a}=e;return(0,n.jsx)(_.sG.span,{"aria-hidden":!0,...a,ref:t,children:o||"â–¼"})});Z.displayName="SelectIcon";var Y=e=>(0,n.jsx)(R.Z,{asChild:!0,...e});Y.displayName="SelectPortal";var J="SelectContent",Q=o.forwardRef((e,t)=>{let r=z(J,e.__scopeSelect),[a,i]=o.useState();return((0,N.N)(()=>{i(new DocumentFragment)},[]),r.open)?(0,n.jsx)(er,{...e,ref:t}):a?c.createPortal((0,n.jsx)(ee,{scope:e.__scopeSelect,children:(0,n.jsx)(I.Slot,{scope:e.__scopeSelect,children:(0,n.jsx)("div",{children:e.children})})}),a):null});Q.displayName=J;var[ee,et]=F(J),er=o.forwardRef((e,t)=>{let{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:s,side:d,sideOffset:u,align:c,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:R,..._}=e,S=z(J,r),[E,N]=o.useState(null),[P,M]=o.useState(null),D=(0,h.s)(t,e=>N(e)),[k,I]=o.useState(null),[A,F]=o.useState(null),B=L(r),[q,H]=o.useState(!1),G=o.useRef(!1);o.useEffect(()=>{if(E)return(0,T.Eq)(E)},[E]),(0,g.Oh)();let U=o.useCallback(e=>{let[t,...r]=B().map(e=>e.ref.current),[n]=r.slice(-1),o=document.activeElement;for(let r of e)if(r===o||(r?.scrollIntoView({block:"nearest"}),r===t&&P&&(P.scrollTop=0),r===n&&P&&(P.scrollTop=P.scrollHeight),r?.focus(),document.activeElement!==o))return},[B,P]),K=o.useCallback(()=>U([k,E]),[U,k,E]);o.useEffect(()=>{q&&K()},[q,K]);let{onOpenChange:V,triggerPointerDownPosRef:W}=S;o.useEffect(()=>{if(E){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(W.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():E.contains(r.target)||V(!1),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[E,V,W]),o.useEffect(()=>{let e=()=>V(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[V]);let[X,$]=eO(e=>{let t=B().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=eM(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),Z=o.useCallback((e,t,r)=>{let n=!G.current&&!r;(void 0!==S.value&&S.value===t||n)&&(I(e),n&&(G.current=!0))},[S.value]),Y=o.useCallback(()=>E?.focus(),[E]),Q=o.useCallback((e,t,r)=>{let n=!G.current&&!r;(void 0!==S.value&&S.value===t||n)&&F(e)},[S.value]),et="popper"===a?eo:en,er=et===eo?{side:d,sideOffset:u,align:c,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:R}:{};return(0,n.jsx)(ee,{scope:r,content:E,viewport:P,onViewportChange:M,itemRefCallback:Z,selectedItem:k,onItemLeave:Y,itemTextRefCallback:Q,focusSelectedItem:K,selectedItemText:A,position:a,isPositioned:q,searchRef:X,children:(0,n.jsx)(O.A,{as:C.DX,allowPinchZoom:!0,children:(0,n.jsx)(b.n,{asChild:!0,trapped:S.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,f.m)(i,e=>{S.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,n.jsx)(x.qW,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:(0,n.jsx)(et,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:e=>e.preventDefault(),..._,...er,onPlaced:()=>H(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:(0,f.m)(_.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||$(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=B().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>U(t)),e.preventDefault()}})})})})})})});er.displayName="SelectContentImpl";var en=o.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:a,...i}=e,l=z(J,r),s=et(J,r),[d,u]=o.useState(null),[c,f]=o.useState(null),m=(0,h.s)(t,e=>f(e)),v=L(r),y=o.useRef(!1),x=o.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:j}=s,R=o.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&c&&g&&b&&w){let e=l.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),n=w.getBoundingClientRect();if("rtl"!==l.dir){let o=n.left-t.left,a=r.left-o,i=e.left-a,l=e.width+i,s=Math.max(l,t.width),u=p(a,[10,Math.max(10,window.innerWidth-10-s)]);d.style.minWidth=l+"px",d.style.left=u+"px"}else{let o=t.right-n.right,a=window.innerWidth-r.right-o,i=window.innerWidth-e.right-a,l=e.width+i,s=Math.max(l,t.width),u=p(a,[10,Math.max(10,window.innerWidth-10-s)]);d.style.minWidth=l+"px",d.style.right=u+"px"}let o=v(),i=window.innerHeight-20,s=g.scrollHeight,u=window.getComputedStyle(c),f=parseInt(u.borderTopWidth,10),m=parseInt(u.paddingTop,10),h=parseInt(u.borderBottomWidth,10),x=f+m+s+parseInt(u.paddingBottom,10)+h,j=Math.min(5*b.offsetHeight,x),R=window.getComputedStyle(g),_=parseInt(R.paddingTop,10),C=parseInt(R.paddingBottom,10),S=e.top+e.height/2-10,E=b.offsetHeight/2,N=f+m+(b.offsetTop+E);if(N<=S){let e=o.length>0&&b===o[o.length-1].ref.current;d.style.bottom="0px";let t=Math.max(i-S,E+(e?C:0)+(c.clientHeight-g.offsetTop-g.offsetHeight)+h);d.style.height=N+t+"px"}else{let e=o.length>0&&b===o[0].ref.current;d.style.top="0px";let t=Math.max(S,f+g.offsetTop+(e?_:0)+E);d.style.height=t+(x-N)+"px",g.scrollTop=N-S+g.offsetTop}d.style.margin="10px 0",d.style.minHeight=j+"px",d.style.maxHeight=i+"px",a?.(),requestAnimationFrame(()=>y.current=!0)}},[v,l.trigger,l.valueNode,d,c,g,b,w,l.dir,a]);(0,N.N)(()=>R(),[R]);let[C,S]=o.useState();(0,N.N)(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);let E=o.useCallback(e=>{e&&!0===x.current&&(R(),j?.(),x.current=!1)},[R,j]);return(0,n.jsx)(ea,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:E,children:(0,n.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:(0,n.jsx)(_.sG.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});en.displayName="SelectItemAlignedPosition";var eo=o.forwardRef((e,t)=>{let{__scopeSelect:r,align:o="start",collisionPadding:a=10,...i}=e,l=q(r);return(0,n.jsx)(j.UC,{...l,...i,ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eo.displayName="SelectPopperPosition";var[ea,ei]=F(J,{}),el="SelectViewport",es=o.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:a,...i}=e,l=et(el,r),s=ei(el,r),d=(0,h.s)(t,l.onViewportChange),u=o.useRef(0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,n.jsx)(I.Slot,{scope:r,children:(0,n.jsx)(_.sG.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:(0,f.m)(i.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=s;if(n?.current&&r){let e=Math.abs(u.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,o=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(o<n){let a=o+e,i=Math.min(n,a),l=a-i;r.style.height=i+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}u.current=t.scrollTop})})})]})});es.displayName=el;var ed="SelectGroup",[eu,ec]=F(ed);o.forwardRef((e,t)=>{let{__scopeSelect:r,...o}=e,a=(0,w.B)();return(0,n.jsx)(eu,{scope:r,id:a,children:(0,n.jsx)(_.sG.div,{role:"group","aria-labelledby":a,...o,ref:t})})}).displayName=ed;var ep="SelectLabel",ef=o.forwardRef((e,t)=>{let{__scopeSelect:r,...o}=e,a=ec(ep,r);return(0,n.jsx)(_.sG.div,{id:a.id,...o,ref:t})});ef.displayName=ep;var em="SelectItem",[eh,ev]=F(em),ey=o.forwardRef((e,t)=>{let{__scopeSelect:r,value:a,disabled:i=!1,textValue:l,...s}=e,d=z(em,r),u=et(em,r),c=d.value===a,[p,m]=o.useState(l??""),[v,y]=o.useState(!1),x=(0,h.s)(t,e=>u.itemRefCallback?.(e,a,i)),g=(0,w.B)(),b=o.useRef("touch"),j=()=>{i||(d.onValueChange(a),d.onOpenChange(!1))};if(""===a)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,n.jsx)(eh,{scope:r,value:a,disabled:i,textId:g,isSelected:c,onItemTextChange:o.useCallback(e=>{m(t=>t||(e?.textContent??"").trim())},[]),children:(0,n.jsx)(I.ItemSlot,{scope:r,value:a,disabled:i,textValue:p,children:(0,n.jsx)(_.sG.div,{role:"option","aria-labelledby":g,"data-highlighted":v?"":void 0,"aria-selected":c&&v,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:x,onFocus:(0,f.m)(s.onFocus,()=>y(!0)),onBlur:(0,f.m)(s.onBlur,()=>y(!1)),onClick:(0,f.m)(s.onClick,()=>{"mouse"!==b.current&&j()}),onPointerUp:(0,f.m)(s.onPointerUp,()=>{"mouse"===b.current&&j()}),onPointerDown:(0,f.m)(s.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:(0,f.m)(s.onPointerMove,e=>{b.current=e.pointerType,i?u.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,f.m)(s.onPointerLeave,e=>{e.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:(0,f.m)(s.onKeyDown,e=>{u.searchRef?.current!==""&&" "===e.key||(D.includes(e.key)&&j()," "===e.key&&e.preventDefault())})})})})});ey.displayName=em;var ex="SelectItemText",eg=o.forwardRef((e,t)=>{let{__scopeSelect:r,className:a,style:i,...l}=e,s=z(ex,r),d=et(ex,r),u=ev(ex,r),p=U(ex,r),[f,m]=o.useState(null),v=(0,h.s)(t,e=>m(e),u.onItemTextChange,e=>d.itemTextRefCallback?.(e,u.value,u.disabled)),y=f?.textContent,x=o.useMemo(()=>(0,n.jsx)("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=p;return(0,N.N)(()=>(g(x),()=>b(x)),[g,b,x]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.sG.span,{id:u.textId,...l,ref:v}),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?c.createPortal(l.children,s.valueNode):null]})});eg.displayName=ex;var eb="SelectItemIndicator",ew=o.forwardRef((e,t)=>{let{__scopeSelect:r,...o}=e;return ev(eb,r).isSelected?(0,n.jsx)(_.sG.span,{"aria-hidden":!0,...o,ref:t}):null});ew.displayName=eb;var ej="SelectScrollUpButton",eR=o.forwardRef((e,t)=>{let r=et(ej,e.__scopeSelect),a=ei(ej,e.__scopeSelect),[i,l]=o.useState(!1),s=(0,h.s)(t,a.onScrollButtonChange);return(0,N.N)(()=>{if(r.viewport&&r.isPositioned){let e=function(){l(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,n.jsx)(eS,{...e,ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eR.displayName=ej;var e_="SelectScrollDownButton",eC=o.forwardRef((e,t)=>{let r=et(e_,e.__scopeSelect),a=ei(e_,e.__scopeSelect),[i,l]=o.useState(!1),s=(0,h.s)(t,a.onScrollButtonChange);return(0,N.N)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,n.jsx)(eS,{...e,ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eC.displayName=e_;var eS=o.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:a,...i}=e,l=et("SelectScrollButton",r),s=o.useRef(null),d=L(r),u=o.useCallback(()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)},[]);return o.useEffect(()=>()=>u(),[u]),(0,N.N)(()=>{let e=d().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[d]),(0,n.jsx)(_.sG.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:(0,f.m)(i.onPointerDown,()=>{null===s.current&&(s.current=window.setInterval(a,50))}),onPointerMove:(0,f.m)(i.onPointerMove,()=>{l.onItemLeave?.(),null===s.current&&(s.current=window.setInterval(a,50))}),onPointerLeave:(0,f.m)(i.onPointerLeave,()=>{u()})})}),eE=o.forwardRef((e,t)=>{let{__scopeSelect:r,...o}=e;return(0,n.jsx)(_.sG.div,{"aria-hidden":!0,...o,ref:t})});eE.displayName="SelectSeparator";var eN="SelectArrow";function eP(e){return""===e||void 0===e}o.forwardRef((e,t)=>{let{__scopeSelect:r,...o}=e,a=q(r),i=z(eN,r),l=et(eN,r);return i.open&&"popper"===l.position?(0,n.jsx)(j.i3,{...a,...o,ref:t}):null}).displayName=eN;var eT=o.forwardRef((e,t)=>{let{value:r,...a}=e,i=o.useRef(null),l=(0,h.s)(t,i),s=function(e){let t=o.useRef({value:e,previous:e});return o.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return o.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(s!==r&&t){let n=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(n)}},[s,r]),(0,n.jsx)(P.s,{asChild:!0,children:(0,n.jsx)("select",{...a,ref:l,defaultValue:r})})});function eO(e){let t=(0,S.c)(e),r=o.useRef(""),n=o.useRef(0),a=o.useCallback(e=>{let o=r.current+e;t(o),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(o)},[t]),i=o.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function eM(e,t,r){var n;let o=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=(n=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(n+r)%e.length]));1===o.length&&(a=a.filter(e=>e!==r));let i=a.find(e=>e.textValue.toLowerCase().startsWith(o.toLowerCase()));return i!==r?i:void 0}eT.displayName="BubbleSelect";var eD=r(41680);let ek=(0,eD.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eI=(0,eD.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eL=r(24849),eA=r(59462);let eF=o.forwardRef(({className:e,children:t,...r},o)=>(0,n.jsxs)(W,{ref:o,className:(0,eA.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,(0,n.jsx)(Z,{asChild:!0,children:(0,n.jsx)(ek,{className:"h-4 w-4 opacity-50"})})]}));eF.displayName=W.displayName;let eB=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eR,{ref:r,className:(0,eA.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,n.jsx)(eI,{className:"h-4 w-4"})}));eB.displayName=eR.displayName;let eq=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eC,{ref:r,className:(0,eA.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,n.jsx)(ek,{className:"h-4 w-4"})}));eq.displayName=eC.displayName;let eH=o.forwardRef(({className:e,children:t,position:r="popper",...o},a)=>(0,n.jsx)(Y,{children:(0,n.jsxs)(Q,{ref:a,className:(0,eA.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[(0,n.jsx)(eB,{}),(0,n.jsx)(es,{className:(0,eA.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,n.jsx)(eq,{})]})}));eH.displayName=Q.displayName,o.forwardRef(({className:e,...t},r)=>(0,n.jsx)(ef,{ref:r,className:(0,eA.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=ef.displayName;let ez=o.forwardRef(({className:e,children:t,...r},o)=>(0,n.jsxs)(ey,{ref:o,className:(0,eA.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(ew,{children:(0,n.jsx)(eL.A,{className:"h-4 w-4"})})}),(0,n.jsx)(eg,{children:t})]}));ez.displayName=ey.displayName,o.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eE,{ref:r,className:(0,eA.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=eE.displayName;var eG=r(70801),eU=r(26248);let eK=(0,eU.createServerReference)("405c295700a4dfd6de233805d861f62411f68f5344",eU.callServer,void 0,eU.findSourceMapURL,"createThread");function eV({categories:e,defaultCategoryId:t}){let[r,c]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[m,h]=(0,o.useState)(t||""),[v,y]=(0,o.useState)(!1),x=(0,a.useRouter)(),{toast:g}=(0,eG.dj)(),b=async e=>{e.preventDefault(),y(!0);try{let e=new FormData;e.append("title",r),e.append("content",p),e.append("categoryId",m);let t=await eK(e);t.error?g({title:"Error",description:t.error,variant:"destructive"}):(g({title:"Success",description:"Thread created successfully"}),x.push(`/community/thread/${t.threadId}`))}catch(e){g({title:"Error",description:"Something went wrong",variant:"destructive"})}finally{y(!1)}};return(0,n.jsxs)(l.Zp,{children:[(0,n.jsxs)(l.aR,{children:[(0,n.jsx)(l.ZB,{children:"Create New Thread"}),(0,n.jsx)(l.BT,{children:"Start a new discussion in the community"})]}),(0,n.jsxs)("form",{onSubmit:b,children:[(0,n.jsxs)(l.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(d.Label,{htmlFor:"title",children:"Title"}),(0,n.jsx)(s.p,{id:"title",placeholder:"Enter a descriptive title",value:r,onChange:e=>c(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(d.Label,{htmlFor:"category",children:"Category"}),(0,n.jsxs)(K,{value:m,onValueChange:h,required:!0,children:[(0,n.jsx)(eF,{children:(0,n.jsx)($,{placeholder:"Select a category"})}),(0,n.jsx)(eH,{children:e.map(e=>(0,n.jsx)(ez,{value:e.id,children:e.name},e.id))})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(d.Label,{htmlFor:"content",children:"Content"}),(0,n.jsx)(u.T,{id:"content",placeholder:"Write your post content here...",rows:10,value:p,onChange:e=>f(e.target.value),required:!0})]})]}),(0,n.jsxs)(l.wL,{className:"flex justify-between",children:[(0,n.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>x.back(),disabled:v,children:"Cancel"}),(0,n.jsx)(i.$,{type:"submit",disabled:v,children:v?"Creating...":"Create Thread"})]})]})]})}},53261:(e,t,r)=>{"use strict";r.d(t,{Label:()=>u});var n=r(45512),o=r(58009),a=r(30830),i=o.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=r(21643),s=r(59462);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=o.forwardRef(({className:e,...t},r)=>(0,n.jsx)(i,{ref:r,className:(0,s.cn)(d(),e),...t}));u.displayName=i.displayName},78796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(62740),o=r(11587),a=r(51825),i=r(45369),l=r(31831),s=r(73882);async function d(){let e=await (0,a.getServerSession)(i.N);e||(0,l.redirect)("/auth/signin?callbackUrl=/community/new-thread");let t=(await o.z.category.findMany({orderBy:{order:"asc"}})).filter(t=>{var r,n,o;return r=t.id,n=e.user.role,o=e.user.department,"announcements"===r?"SENIOR_ADMIN"===n||"HEAD_ADMIN"===n:"recruitment"===r?"RNR_ADMINISTRATION"===o||"RNR_STAFF"===o:!!n}).map(e=>({id:e.id,name:e.name}));return(0,n.jsxs)("div",{className:"container mx-auto py-6 px-4 md:px-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight mb-6",children:"Create New Thread"}),(0,n.jsx)(s.CreateThreadForm,{categories:t})]})}},73882:(e,t,r)=>{"use strict";r.d(t,{CreateThreadForm:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call CreateThreadForm() from the server but CreateThreadForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\xampp\\nodejs-apps\\community-forum\\components\\create-thread-form.tsx","CreateThreadForm")},31831:(e,t,r)=>{"use strict";var n=r(67359);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},46347:(e,t,r)=>{"use strict";function n(){throw Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(26003).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},11271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return a}});let n=r(26003),o=r(23543);function a(e){return(0,o.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},67359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return o.RedirectType},forbidden:function(){return i.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return l.unauthorized},unstable_rethrow:function(){return s.unstable_rethrow}});let n=r(26552),o=r(23543),a=r(39274),i=r(46347),l=r(10590),s=r(51370);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let n=""+r(26003).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Error(n);throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return o},RedirectType:function(){return a},isRedirectError:function(){return i}});let n=r(11541),o="NEXT_REDIRECT";var a=function(e){return e.push="push",e.replace="replace",e}({});function i(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,a]=t,i=t.slice(2,-2).join(";"),l=Number(t.at(-2));return r===o&&("replace"===a||"push"===a)&&"string"==typeof i&&!isNaN(l)&&l in n.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},11541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return s},redirect:function(){return l}});let n=r(19121),o=r(11541),a=r(23543);function i(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let n=Error(a.REDIRECT_ERROR_CODE);return n.digest=a.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",n}function l(e,t){let r=n.actionAsyncStorage.getStore();throw i(e,t||((null==r?void 0:r.isAction)?a.RedirectType.push:a.RedirectType.replace),o.RedirectStatusCode.TemporaryRedirect)}function s(e,t){throw void 0===t&&(t=a.RedirectType.replace),i(e,t,o.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,a.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,a.isRedirectError)(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function c(e){if(!(0,a.isRedirectError)(e))throw Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10590:(e,t,r)=>{"use strict";function n(){throw Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(26003).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,i.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,n.isDynamicUsageError)(t)||(0,o.isPostpone)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(62349),o=r(67418),a=r(40627),i=r(11271);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicUsageError",{enumerable:!0,get:function(){return l}});let n=r(42490),o=r(40627),a=r(11271),i=r(10436),l=e=>(0,n.isDynamicServerError)(e)||(0,o.isBailoutToCSRError)(e)||(0,a.isNextRouterError)(e)||(0,i.isDynamicPostpone)(e)},67418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return n}});let r=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},40627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return o}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,423,512,103,212,45,486],()=>r(44710));module.exports=n})();