(()=>{var e={};e.id=577,e.ids=[577],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},29725:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>v,routeModule:()=>l,serverHooks:()=>y,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>f});var n={};r.r(n),r.d(n,{GET:()=>c});var a=r(42706),s=r(28203),i=r(45994),o=r(39187),u=r(44512),p=r(11587);async function c(){let e=await (0,u.headers)(),t=e.get("x-user-id");if(t)try{await p.z.user.update({where:{id:Number(t)},data:{lastActive:new Date}})}catch(e){console.error("Error updating user activity:",e)}else{let t=e.get("x-guest-ip"),r=e.get("x-guest-ua");if(t)try{let e=await p.z.anonymousSession.findFirst({where:{ip:t,userAgent:r||"",lastSeen:{gte:new Date(Date.now()-18e5)}}});e?await p.z.anonymousSession.update({where:{id:e.id},data:{lastSeen:new Date}}):await p.z.anonymousSession.create({data:{ip:t,userAgent:r||"",lastSeen:new Date}})}catch(e){console.error("Error tracking anonymous session:",e)}}return new o.NextResponse(null,{status:204})}let l=new a.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/activity/route",pathname:"/api/activity",filename:"route",bundlePath:"app/api/activity/route"},resolvedPagePath:"C:\\xampp\\nodejs-apps\\community-forum\\app\\api\\activity\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:d,workUnitAsyncStorage:f,serverHooks:y}=l;function v(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:f})}},96487:()=>{},78335:()=>{},11587:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(96330);let a=globalThis.prisma??new n.PrismaClient},37301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(76301));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}let s={current:null},i="function"==typeof n.cache?n.cache:e=>e,o=console.warn;function u(e){return function(...t){o(e(...t))}}i(e=>{try{o(s.current)}finally{s.current=null}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,512,452],()=>r(29725));module.exports=n})();